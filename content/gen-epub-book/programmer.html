<!--
nabijaczleweli.xyz (c) by nabijaczleweli@gmail.com (nabijaczleweli)
​
nabijaczleweli.xyz is licensed under a
Creative Commons Attribution 4.0 International License.
​
You should have received a copy of the license along with this
work. If not, see <https://creativecommons.org/licenses/by/4.0/>.
-->
<!DOCTYPE html> 
 <html lang="en-GB"> 
 <head> 
 <meta charset="utf-8"> 
 <meta http-equiv="X-UA-Compatible" content="IE=Edge"> 
 <meta name="viewport" content="width=device-width,initial-scale=1"> 
 <meta name="author" content="nabijaczleweli"> 
 <meta name="description" content="feature sets and links to various gen-epub-book implementations"> 
 <title>gen-epub-book for programmers — nabijaczleweli</title> 
 
 <link href="/content/assets/common.css" rel="stylesheet" /> 
 <link rel="apple-touch-icon" sizes="57x57" href="/assets/favicons/apple-touch-icon-57x57.png"> 
 <link rel="apple-touch-icon" sizes="60x60" href="/assets/favicons/apple-touch-icon-60x60.png"> 
 <link rel="apple-touch-icon" sizes="72x72" href="/assets/favicons/apple-touch-icon-72x72.png"> 
 <link rel="apple-touch-icon" sizes="76x76" href="/assets/favicons/apple-touch-icon-76x76.png"> 
 <link rel="apple-touch-icon" sizes="114x114" href="/assets/favicons/apple-touch-icon-114x114.png"> 
 <link rel="apple-touch-icon" sizes="120x120" href="/assets/favicons/apple-touch-icon-120x120.png"> 
 <link rel="apple-touch-icon" sizes="144x144" href="/assets/favicons/apple-touch-icon-144x144.png"> 
 <link rel="apple-touch-icon" sizes="152x152" href="/assets/favicons/apple-touch-icon-152x152.png"> 
 <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon-180x180.png"> 
 <link rel="icon" type="image/png" href="/assets/favicons/favicon-32x32.png" sizes="32x32"> 
 <link rel="icon" type="image/png" href="/assets/favicons/android-chrome-192x192.png" sizes="192x192"> 
 <link rel="icon" type="image/png" href="/assets/favicons/favicon-96x96.png" sizes="96x96"> 
 <link rel="icon" type="image/png" href="/assets/favicons/favicon-16x16.png" sizes="16x16"> 
 <link rel="manifest" href="/assets/favicons/manifest.json"> 
 <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5"> 
 <link rel="shortcut icon" href="/assets/favicons/favicon.ico"> 
 <meta name="apple-mobile-web-app-title" content="nabijaczleweli"> 
 <meta name="application-name" content="nabijaczleweli"> 
 <meta name="msapplication-TileColor" content="#da532c"> 
 <meta name="msapplication-TileImage" content="/assets/favicons/mstile-144x144.png"> 
 <meta name="msapplication-config" content="/assets/favicons/browserconfig.xml"> 
 <meta name="theme-color" content="#ffffff"> 
 <link href="/content/assets/heading.css" rel="stylesheet" /> <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" rel="stylesheet" /> 
 <link href="//rawcdn.githack.com/fizzed/font-mfizz/v2.4.1/dist/font-mfizz.css" rel="stylesheet" /> 
 <link href="//rawcdn.githack.com/konpa/devicon/v2.2/devicon.min.css" rel="stylesheet" /> 
 
 <link href="/kaschism/assets/column.css" rel="stylesheet" /> 
 <link href="//fonts.googleapis.com/css?family=Droid+Sans+Mono" rel="stylesheet"> 
 <link href="../writing/Roboto-font.css" rel="stylesheet" /> 
 <link href="../writing/the_taste_of_mi/Merriweather-font.css" rel="stylesheet"> 
 <script type="text/javascript" src="/content/assets/numberise-code.js"></script> 
 
 </head> 
 <body>
<style>
.overlay-container {
 display: inline-block;
 position: relative;
}
.overlay-target {
 position: absolute;
 top: 0;
 left: 0;
 right: 0;
 bottom: 0;
}
h1 {
 margin-top: 0;
 margin-bottom: 0.4em;
}
h2, h3, p {
 margin-top: 0.4em;
 margin-bottom: 0.4em;
}
h2 {
 margin-top: 2em;
}
h3 {
 margin-top: 1.5em;
}
.nowrap {
 white-space: nowrap;
}
code, samp {
 font-family: "Droid Sans Mono", monospace;
}
h1, h2, h3, h4, h5, h6, summary {
 font-family: "Merriweather", serif;
}
h1:hover a.hash-link,
h2:hover a.hash-link,
h3:hover a.hash-link,
h4:hover a.hash-link,
h5:hover a.hash-link,
h6:hover a.hash-link,
summary:hover a.hash-link {
 visibility: visible;
 opacity: 1;
}
h1 a.hash-link,
h2 a.hash-link,
h3 a.hash-link,
h4 a.hash-link,
h5 a.hash-link,
h6 a.hash-link,
summary a.hash-link {
 float: left;
 visibility: hidden;
 opacity: 0;
 padding-right: calc(1em / 5.5);
 margin-left: calc(-1em / 1.1);
  transition: all 0.5s;
}
h1 a.hash-link, h2 a.hash-link, h3 a.hash-link, h4 a.hash-link, h5 a.hash-link, h6 a.hash-link, summary a.hash-link,
a .fa, a .far, a .fab, a [class*="icon"], a [class*="devicon"],
a.fa, a.far, a.fab, a[class*="icon"], a[class*="devicon"] {
 color: black;
 text-decoration: none;
}
th, td {
 padding-left: 0.25em;
 padding-right: 0.25em;
 text-align: left;
}
td {
 font-size: calc(9em / 10);
}
tr:nth-child(1) {
  background-color: #aaaaaaa0;
}
tr:nth-child(even) {
  background-color: #eeeeeea0;
}
tr:hover {
  background-color: #cccccca0;
  transition: all 0.25s;
}
.highlit-code {
 border-radius: calc(1em / 3);
 padding-left: calc(1em / 5);
 padding-right: calc(1em / 5);
 padding-top: calc(1em / 4);
 padding-bottom: calc(1em / 4);
 margin-top: 0;
 margin-bottom: 0;
 color: #e6e1dc;
 background-color: #232323;
}
.highlit-code .code-line {
 width: 100%;
 display: inline-block;
  transition: all 0.25s;
}
.highlit-code .code-line:hover {
 background-color: #333435;
}
.highlit-code .punctuation, .highlit-code .punctuation * {
 color: #cc7833;
}
.highlit-code .comment, .highlit-code .comment * {
 color: #bc9458;
}
.highlit-code .keyword, .highlit-code .keyword * {
 color: #da4939;
}
.highlit-code .verb, .highlit-code .verb * {
 color: #e8bf6a;
}
.highlit-code .string, .highlit-code .string * {
 color: #a5c261;
}
.highlit-code .variable, .highlit-code .variable * {
 color: #d0d0ff;
}
.tag {
 border-radius: calc(1em / 3);
 padding-left: calc(1em / 10);
 padding-right: calc(1em / 10);
 padding-top: calc(1em / 20);
 padding-bottom: calc(1em / 20);
}
.tag-white {
 background-color: #eee;
}
</style>
<div class="roboto">
<!-- Style based on https://daringfireball.net/projects/markdown/ -->
<p></p>
<h1 id="go-back" class="merriweather"><a class="go-back-link left" href=".">↩</a> <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> For Programmers <a class="go-back-link right" href=".">↩</a></h1>
<h2 id="description" class="smallcaps" style="margin-top: initial;"><a class="hash-link" href="#description">#</a> Description</h2>
<p id="description-paragraph">
<code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> is a loose file to ePub assembly/conversion tool for everyone not afraid of not using Word.
<code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> allows you to assemble ePub e-books using an easy-to-read, easy-to-write plaintext format.
</p>
<p id="description-what-is-it-paragraph">
Thus, "<!--"--><code class="nowrap" style="font-variant: normal;">gen-epub-book​</code><!--"-->" is two things:
(1) a plaintext descriptor syntax; and
(2) a (set of) software tool(s), written in a multitude of languages, that assemble that descriptor and files referenced thereby into an ePub e-book.
See the <a href="#getting-the-gist">Getting the gist</a> heading for details pertaining to <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code>'s descriptor syntax. <!--'-->
</p>
<p id="description-inspiration-paragraph">
The "design goal" of <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code>’s descriptor syntax is to make it as consistent and obvious at the first sight as possible.
The idea is that a <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> descriptor should be writable by any person with <em>minimal</em> technical knowledge.
</p>
<p id="description-license-paragraph">
<code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> is free software, available under the MIT open source license.
See the <a href="#license">License</a> heading for more information.
</p>
<h2 id="discussion" class="smallcaps" ><a class="hash-link" href="#discussion">#</a> Discussion</h2>
<p id="discussion-paragraph">
Any topic related to <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> – both the descriptor syntax and the software –
is fair game for discussion over at the <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> issue trackers
 <a href="https://github.com/nabijaczleweli/gen-epub-book/issues" class="icon"><span style="font-weight: normal;" class="icon nowrap" > 
 <strong>A</strong><!-- 
 --><span class="overlay-container"> 
 <sup class="overlay-target smallcaps" style="top: calc(-1em / 4); left: calc(-1em/6);">w</sup> 
 <sub class="smallcaps" style="margin-left: calc(1em / 16);">k</sub> 
 </span> 
 </span></a>
 <a href="https://github.com/nabijaczleweli/gen-epub-book.rs/issues" ><i class="icon-rust" ></i></a>
 <a href="https://github.com/nabijaczleweli/gen-epub-book.cpp/issues" class="icon"><i class="devicon-cplusplus-plain" ></i></a>
 <a href="https://github.com/nabijaczleweli/gen-epub-book.scala/issues" ><i class="icon-scala" ></i></a>
 <a href="https://github.com/nabijaczleweli/gen-epub-book.js/issues" class="icon"><i class="devicon-javascript-plain" ></i></a>
and this site's issue tracker <!--'-->
 <a href="//github.com/nabijaczleweli/nabijaczleweli.github.io/issues" class="icon"><i class="devicon-html5-plain" ></i></a>.
I'<!--'-->ve also set up a <a href="https://github.com/nabijaczleweli/gen-epub-book/issues/1">GitHub issue for simple questions and clarifications</a>.
</p>
<p id="discussion-hopes-paragraph">
I hope that GitHub issue system will lead to good ideas for future improvements to <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code>.
</p>
<h2 id="variants" class="smallcaps" ><a class="hash-link" href="#variants">#</a> Variants</h2>
<div id="variants-paragraph">
<p></p>
As mentioned before, <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> is actually also a <em>set</em> of software tools each of which performing mostly the same function,
but being written in a different language.
Here is the current list of <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code>'s variations, chronologically: <!--'-->
<ul>
 <li><code class="nowrap" style="font-variant: normal;">gen-epub-book​.awk ​ ​</code> <a href="https://github.com/nabijaczleweli/gen-epub-book"> <i class="fab fa-github"></i></a>
     <a href="https://rawcdn.githack.com/nabijaczleweli/gen-epub-book/man/gen-epub-book.awk.1.html"><i class="fa fa-book"></i></a></li>
 <li><code class="nowrap" style="font-variant: normal;">gen-epub-book​.rs ​ ​ ​</code> <a href="https://github.com/nabijaczleweli/gen-epub-book.rs"> <i class="fab fa-github"></i></a>
     <a href="https://rawcdn.githack.com/nabijaczleweli/gen-epub-book/man/gen-epub-book.rs.1.html"><i class="fa fa-book"></i></a>
     <a href="https://rawcdn.githack.com/nabijaczleweli/gen-epub-book.rs/doc/gen_epub_book/index.html" class="overlay-container">
      <span class="overlay-target"><i class="far fa-file"></i></span> <span style="font-size: 0.7em;"><i class="fa fa-cogs"></i></span></a>
     <a href="//crates.io/crates/gen-epub-book"><i class="fa fa-archive"></i></a></li>
 <li><code class="nowrap" style="font-variant: normal;">gen-epub-book​.cpp ​ ​</code> <a href="https://github.com/nabijaczleweli/gen-epub-book.cpp"> <i class="fab fa-github"></i></a>
     <a href="https://rawcdn.githack.com/nabijaczleweli/gen-epub-book/man/gen-epub-book.cpp.1.html"><i class="fa fa-book"></i></a></li>
 <li><code class="nowrap" style="font-variant: normal;">gen-epub-book​.scala</code> <a href="https://github.com/nabijaczleweli/gen-epub-book.scala"><i class="fab fa-github"></i></a></li>
 <li><code class="nowrap" style="font-variant: normal;">gen-epub-book​.js ​ ​ ​</code> <a href="https://github.com/nabijaczleweli/gen-epub-book.js"> <i class="fab fa-github"></i></a>
     <a href="https://rawcdn.githack.com/nabijaczleweli/gen-epub-book/man/gen-epub-book.js.1.html"><i class="fa fa-book"></i></a>
     <a href="//npmjs.com/package/epubify" class="icon"><i class="devicon-nodejs-plain" ></i></a></li>
</ul>
<p></p>
</div>
<p id="variants-variations-paragraph">
These variations have mostly the same features, and all differences will be highlighted in this document as they come up.
</p>
<p id="variants-binary-paragraphs">
Binary releases of compiled variants are available for download, for Windows and Ubuntu, on the releases pages
 <a href="https://github.com/nabijaczleweli/gen-epub-book.rs/releases" ><i class="icon-rust" ></i></a>
 <a href="https://github.com/nabijaczleweli/gen-epub-book.cpp/releases" class="icon"><i class="devicon-cplusplus-plain" ></i></a>
 <a href="https://github.com/nabijaczleweli/gen-epub-book.js/tree/bundle" class="icon"><i class="devicon-javascript-plain" ></i></a>.
</p>
<h2 id="installation-and-requirements" class="smallcaps" ><a class="hash-link" href="#installation-and-requirements">#</a> Installation and requirements</h2>
<p id="installation-and-requirements-paragraph">
All compiled variations of <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> are stand-alone in that they don't depend on any files other than themselves. <!--'-->
Some of them, however, require additional software during building/installation.
</p>
<h3 id="installation-and-requirements-awk" class="smallcaps" ><a class="hash-link" href="#installation-and-requirements-awk">#</a> <code class="nowrap" style="font-variant: normal;">gen-epub-book​.awk</code></h3>
<p id="installation-and-requirements-awk-paragraph">
<code class="nowrap" style="font-variant: normal;">gen-epub-book​.awk</code> does not require compilation, which makes it require external binary tools.
Here's the list outlining them, their uses, and where to get them: <!--'-->
</p>
<table id="installation-and-requirements-awk-table">
 <tr><th>Tool</th> <th>Use</th> <th>Where</th></tr>
 <tr><td><a href="//curl.haxx.se"><img src="//curl.haxx.se/logo/curl-logo.svg" alt="curl" style="height: 1.25em;"></a></td>
    <td>Downloading <kbd class="highlit-code nowrap"><span class="keyword">Network-*</span></kbd> data.<br />
        Getting random UUID.</td>
    <td><samp>Linux</samp>: usually shipped with system, package manager, <a href="//curl.haxx.se/download.html">binary releases</a>.<br />
        Windows: <a href="//curl.haxx.se/download.html">binary releases</a>.</td></tr>
 <tr><td><code>zip</code></td>
    <td>Packing ePub.</td>
    <td><a href="http://info-zip.org/Zip.html#Downloads">Binary releases</a>.</td></tr>
 <tr><td><code>rm</code>/<code>del</code></td>
    <td>Pre-generation cleanup.</td>
    <td>Shipped with system.</td></tr>
 <tr><td><code>cp</code>/<code>copy</code></td>
    <td>Assembling e-book in temporary directory.</td>
    <td>Shipped with system.</td></tr>
 <tr><td><code>mkdir</code></td>
    <td>Creating temporary directories.</td>
    <td>Available everywhere.</td></tr>
 <tr><td><code>cd</code></td>
    <td>Proper relative paths for <code>Info-ZIP</code> (no, there'<!--'-->s no way around that).</td>
    <td>Available everywhere.</td></tr>
</table>
<p id="installation-and-requirements-awk-accessibility-paragraph">
These tools need to be callable as in the first column – in <kbd class="highlit-code nowrap"><span class="variable">$PATH</span></kbd> or otherwise.
</p>
<p id="installation-and-requirements-awk-compatibility-paragraph">
<code class="nowrap" style="font-variant: normal;">gen-epub-book​.awk</code>, of course, requires an implementation of <span style="font-weight: normal;" class="icon nowrap" > 
 <strong>A</strong><!-- 
 --><span class="overlay-container"> 
 <sup class="overlay-target smallcaps" style="top: calc(-1em / 4); left: calc(-1em/6);">w</sup> 
 <sub class="smallcaps" style="margin-left: calc(1em / 16);">k</sub> 
 </span> 
 </span>.
Each implementation of <span style="font-weight: normal;" class="icon nowrap" > 
 <strong>A</strong><!-- 
 --><span class="overlay-container"> 
 <sup class="overlay-target smallcaps" style="top: calc(-1em / 4); left: calc(-1em/6);">w</sup> 
 <sub class="smallcaps" style="margin-left: calc(1em / 16);">k</sub> 
 </span> 
 </span> has its own quirks and therefore might not work as well as other implementations.
Here'<!--'-->s the list outlining some tested <span style="font-weight: normal;" class="icon nowrap" > 
 <strong>A</strong><!-- 
 --><span class="overlay-container"> 
 <sup class="overlay-target smallcaps" style="top: calc(-1em / 4); left: calc(-1em/6);">w</sup> 
 <sub class="smallcaps" style="margin-left: calc(1em / 16);">k</sub> 
 </span> 
 </span> implementations and their support:
</p>
<table id="installation-and-requirements-awk-compatibility-table">
 <tr><th>Variant</th> <th>Support</th> <th>Note</th></tr>
 <tr><td><a href="//gnu.org/software/gawk"><code>gawk</code></a></td>
    <td>Yes.</td>
    <td></td></tr>
 <tr><td><a href="//invisible-island.net/mawk/mawk.html"><code>mawk</code></a></td>
    <td>No.</td>
    <td>Max supported string length exceeded. <code class="tag tag-white">wontfix</code></td></tr>
</table>
<p id="installation-and-requirements-awk-support-paragraph">
Not sure if your preferred implementation's supported? <!--'-->
Drop a question over at one of the issue trackers –
 <a href="https://github.com/nabijaczleweli/gen-epub-book/issues" class="icon"><span style="font-weight: normal;" class="icon nowrap" > 
 <strong>A</strong><!-- 
 --><span class="overlay-container"> 
 <sup class="overlay-target smallcaps" style="top: calc(-1em / 4); left: calc(-1em/6);">w</sup> 
 <sub class="smallcaps" style="margin-left: calc(1em / 16);">k</sub> 
 </span> 
 </span></a>
 <a href="//github.com/nabijaczleweli/nabijaczleweli.github.io/issues" class="icon"><i class="devicon-html5-plain" ></i></a>!
</p>
<h3 id="installation-and-requirements-rs" class="smallcaps" ><a class="hash-link" href="#installation-and-requirements-rs">#</a> <code class="nowrap" style="font-variant: normal;">gen-epub-book​.rs</code></h3>
<div id="installation-and-requirements-rs-paragraph">
<p></p>
<code class="nowrap" style="font-variant: normal;">gen-epub-book​.rs</code> just requires a roughly modern version of the <a href="//rust-lang.org">Rust</a> compiler.
Since <code class="nowrap" style="font-variant: normal;">gen-epub-book​.rs</code> is uploaded to <a href="//crates.io">crates.io</a> <a href="//crates.io/crates/gen-epub-book"><i class="fa fa-archive"></i></a>,
 you need simply run
<kbd><pre class="highlit-code numberise">
<span class="punctuation">$</span> cargo install <span class="string">gen-epub-book</span>
</pre></kbd>
<p>
The resulting executable is fully stand-alone and available in your <kbd class="highlit-code nowrap"><span class="variable">$PATH</span></kbd> if installed via <kbd>cargo install</kbd>.
</p>
</div>
<h3 id="installation-and-requirements-cpp" class="smallcaps" ><a class="hash-link" href="#installation-and-requirements-cpp">#</a> <code class="nowrap" style="font-variant: normal;">gen-epub-book​.cpp</code></h3>
<div id="installation-and-requirements-cpp-paragraph">
<p></p>
To be built, <code class="nowrap" style="font-variant: normal;">gen-epub-book​.cpp</code> requires:
<ul>
 <li>a <code>C++14</code>-compliant C++ compiler,</li>
 <li>a <code>C11</code>-compliant C compiler,</li>
 <li><a href="//ninja-build.org"><code>ninja</code></a>,</li>
 <li><a href="//cmake.org">CMake</a> 2.8+,</li>
 <li>a dev installation of <a href="//curl.haxx.se"><code>libcurl</code></a>.</li>
</ul>
The resulting executable is fully stand-alone.
<p></p>
</div>
<h3 id="installation-and-requirements-scala" class="smallcaps" ><a class="hash-link" href="#installation-and-requirements-scala">#</a> <code class="nowrap" style="font-variant: normal;">gen-epub-book​.scala</code></h3>
<p id="installation-and-requirements-scala-paragraph">
To build, <code class="nowrap" style="font-variant: normal;">gen-epub-book​.scala</code> requires the <a href="//scala-lang.org">Scala</a> compiler.
The resulting <code>.jar</code>s depend only on the Scala runtime library.
</p>
<h3 id="installation-and-requirements-js" class="smallcaps" ><a class="hash-link" href="#installation-and-requirements-js">#</a> <code class="nowrap" style="font-variant: normal;">gen-epub-book​.js</code></h3>
<p id="installation-and-requirements-js-paragraph">
Due to the specificity of the <a href="//nodejs.org">Node.js</a> environment,
 <code class="nowrap" style="font-variant: normal;">gen-epub-book​.js</code> depends on about 110 other packages. To install it, simply run
<kbd><pre class="highlit-code numberise">
<span class="punctuation">$</span> npm install -g <span class="string">epubify</span>
</pre></kbd>
The resulting "executable" will be in your <kbd class="highlit-code nowrap"><span class="variable">$PATH</span></kbd>.
</p>
<h2 id="configuration" class="smallcaps" ><a class="hash-link" href="#configuration">#</a> Configuration</h2>
<p id="configuration-paragraph">
The same descriptor syntax put into any <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> variant with any options passed shall produce (functionally) the same e-book
 (if they support a compatible featureset), but some <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> variants are configurable in their non–e-book output.
Subheadings include links to manpages with more information.
</p>
<h3 id="configuration-awk" class="smallcaps" ><a class="hash-link" href="#configuration-awk">#</a> <code class="nowrap" style="font-variant: normal;">gen-epub-book​.awk</code> <a href="https://rawcdn.githack.com/nabijaczleweli/gen-epub-book/man/gen-epub-book.awk.1.html"><i class="fa fa-book"></i></a></h3>
<p id="configuration-awk-paragraph">
A <kbd class="highlit-code nowrap"><span class="variable">temp</span></kbd> variable passed from the commandline containing the desired temporary directory (usually <kbd class="highlit-code nowrap"><span class="variable">$TEMP</span></kbd>).
This usually yields for
 <kbd class="highlit-code nowrap"><span class="verb">-v</span> <span class="variable">temp</span><span class="punctuation">​=</span><span class="string">"$TEMP"</span></kbd>
 full argument.
</p>
<h3 id="configuration-rs" class="smallcaps" ><a class="hash-link" href="#configuration-rs">#</a> <code class="nowrap" style="font-variant: normal;">gen-epub-book​.rs</code> <a href="https://rawcdn.githack.com/nabijaczleweli/gen-epub-book/man/gen-epub-book.awk.1.html"><i class="fa fa-book"></i></a></h3>
<p id="configuration-rs-paragraph">
The <code>--verbose</code> flag makes <code class="nowrap" style="font-variant: normal;">gen-epub-book​.rs</code> print information about what it's currently doing. <!--'-->
</p>
<h2 id="getting-the-gist"><a class="hash-link" href="#getting-the-gist">#</a>
                          <span class="smallcaps">Getting the gist of</span> <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code><span class="smallcaps">'s descriptor syntax</span></h2> <!--'-->
<p id="getting-the-gist-paragraph">
This section offers a complete, detailed documentation for the descriptor syntax.
</p>
<h3 id="getting-the-gist-overview" class="smallcaps" ><a class="hash-link" href="#getting-the-gist-overview">#</a> Overview</h3>
<div id="getting-the-gist-overview-paragraph">
<p></p>
<code class="nowrap" style="font-variant: normal;">gen-epub-book​</code>'s descriptor syntax can be divided into <em>lines</em>. <!--'-->
Each <em>line</em> is either (a) comprised of three elements:
<kbd><pre class="highlit-code numberise">
<span class="keyword">key</span><span class="punctuation">:</span> <span class="string">value</span>
<span class="comment"># ​ ​^ separator</span>
</pre></kbd>
or (b) is a comment if that format is not met for the line.
<p></p>
</div>
<p id="getting-the-gist-overview-elements-key-paragraph">
<kbd class="highlit-code nowrap"><span class="keyword">key</span></kbd> is any sequence of characters up to the <kbd class="highlit-code nowrap"><span class="punctuation">separator</span></kbd>.
</p>
<p id="getting-the-gist-overview-elements-separator-paragraph">
<kbd class="highlit-code nowrap"><span class="punctuation">separator</span></kbd> is just <kbd class="highlit-code nowrap"><span class="punctuation">:</span></kbd>,
 unless the <a href="#features-custom-separator">custom separator</a> feature is enabled.
</p>
<p id="getting-the-gist-overview-elements-value-paragraph">
<kbd class="highlit-code nowrap"><span class="string">value</span></kbd> is any sequence of characters till the end of <em>line</em>.
</p>
<p id="getting-the-gist-overview-elements-whitespace-paragraph">
All whitespace before and after every element is stripped (removed).
</p>
<div id="getting-the-gist-overview-elements-examples-paragraph">
<p></p>
Every <em>line</em> in the following descriptor is equivalent:
<kbd><pre class="highlit-code numberise">
<span class="keyword">Name</span><span class="punctuation">:</span> <span class="string">The Taste of MI</span>
<span class="keyword">Name</span><span class="punctuation">:</span><span class="string">The Taste of MI</span>
 ​ ​ <span class="keyword">Name</span> ​ ​ <span class="punctuation">:</span> <span class="string">The Taste of MI</span> ​ ​ ​ ​
</pre></kbd>
<p></p>
All these <em>lines</em> are comments:
<kbd><pre class="highlit-code numberise">
<span class="comment"># A marked comment (not that it changes much)</span>
<span class="comment">An unmarked comment (what)</span>
​
<span class="comment">Name The Taste of MI</span>
<span class="comment">​ ​ ​ ​ ​^ missing separator</span>
​
<span class="comment">Name:</span>
<span class="comment">​ ​ ​ ​ ​ ​ ​^ missing value</span>
​
<span class="comment">: The Taste of MI</span>
<span class="comment">^ missing key</span>
</pre></kbd>
<p></p>
</div>
<h3 id="getting-the-gist-elements" class="smallcaps" ><a class="hash-link" href="#getting-the-gist-elements">#</a> Elements</h3>
<p id="getting-the-gist-elements-paragraph">
Each non-<kbd class="highlit-code nowrap"><span class="comment">comment</span></kbd> <em>line</em> forms is an <em>element</em> –
 a <kbd class="highlit-code nowrap">(<span class="keyword">key</span><span class="punctuation">,</span> <span class="string">value</span>)</kbd> pair.
</p>
<div id="getting-the-gist-elements-validity-paragraph">
A descriptor is considered valid if the following conditions are met:
<ul>
 <li>all required <em>elements</em> are present,</li>
 <li>all path <em>element</em> <kbd class="highlit-code nowrap"><span class="string">value</span></kbd>s point to existing files,</li>
 <li>all network <em>element</em> <kbd class="highlit-code nowrap"><span class="string">value</span></kbd>s are valid URLs,</li>
 <li>all files pointed to by network <em>element</em> <kbd class="highlit-code nowrap"><span class="string">value</span></kbd>s can be downloaded, and</li>
 <li>all date <em>element</em> <kbd class="highlit-code nowrap"><span class="string">value</span></kbd>s are valid <a href="//tools.ietf.org/html/rfc3339">RFC3339</a> dates
     (see the <a href="#features-free-date-format">free date format</a> feature for accepting more date formats).</li>
</ul>
</div>
<p id="getting-the-gist-elements-list-paragraph">
The following table enumerates supported <kbd class="highlit-code nowrap"><span class="keyword">key</span></kbd>s and their properties:
</p>
<table id="getting-the-gist-elements-table">
 <tr><th><kbd class="highlit-code nowrap"><span class="keyword">key</span></kbd></th> <th>Value type</th> <th>Effect</th> <th>Required</th> <th>Amount</th> <th>Remarks</th></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Name</span></kbd></td>
    <td>Plain text.</td>
    <td>Sets book name/title tag.</td>
    <td>Yes.</td>
    <td>1</td>
    <td></td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Author</span></kbd></td>
    <td>Plain text.</td>
    <td>Sets book author tag.</td>
    <td>Yes.</td>
    <td>1</td>
    <td></td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Date</span></kbd></td>
    <td><a href="//tools.ietf.org/html/rfc3339">RFC3339</a>-compliant date.</td>
    <td>Sets book authoring/publishing date.</td>
    <td>Yes.</td>
    <td>1</td>
    <td></td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Language</span></kbd></td>
    <td><a href="//tools.ietf.org/html/bcp47">BCP47</a>-compliant language code.</td>
    <td>Sets book language tag.</td>
    <td>Yes.</td>
    <td>1</td>
    <td></td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Content</span></kbd></td>
    <td>Path to HTML file.</td>
    <td>Includes specified file in e-book.</td>
    <td>No.</td>
    <td>Any.</td>
    <td>See <a href="#getting-the-gist-additional-content-processing-paragraph">additional content processing</a>.</td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">String-Content</span></kbd></td>
    <td>HTML text.</td>
    <td>Includes raw HTML in e-book.</td>
    <td>No.</td>
    <td>Any.</td>
    <td></td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Image-Content</span></kbd></td>
    <td>Path to image file.</td>
    <td>Packs specified image file in the e-book and includes centered content therewith.</td>
    <td>No.</td>
    <td>Any.</td>
    <td></td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Network-Image-Content</span></kbd></td>
    <td>URL to remote image file.</td>
    <td>Downloads and packs specified image file in the e-book and adds centered content therewith.</td>
    <td>No.</td>
    <td>Any.</td>
    <td></td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Cover</span></kbd></td>
    <td>Path to image file.</td>
    <td>Packs specified image and sets cover to content pointing thereat.</td>
    <td>No.</td>
    <td>0-1</td>
    <td>Exclusive with <kbd class="highlit-code nowrap"><span class="keyword">Network-Cover</span></kbd>.</td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Network-Cover</span></kbd></td>
    <td>URL to remote image file.</td>
    <td>Downloads and packs specified image and sets cover to content pointing thereat.</td>
    <td>No.</td>
    <td>0-1</td>
    <td>Exclusive with <kbd class="highlit-code nowrap"><span class="keyword">Cover</span></kbd>.</td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Include</span></kbd></td>
    <td>File path.</td>
    <td>Packs specified file.</td>
    <td>No.</td>
    <td>Any.</td>
    <td></td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Network-Include</span></kbd></td>
    <td>Remote file URL.</td>
    <td>Downloads and packs specified file.</td>
    <td>No.</td>
    <td>Any.</td>
    <td></td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Description</span></kbd></td>
    <td>File path.</td>
    <td>Sets the book's description to the specified file's contents.</td>
    <td>No.</td>
    <td>0-1</td>
    <td>Exclusive with <kbd class="highlit-code nowrap"><span class="keyword">String-Description</span></kbd> and <kbd class="highlit-code nowrap"><span class="keyword">Network-Description</span></kbd>.</td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">String-Description</span></kbd></td>
    <td>HTML text.</td>
    <td>Sets the book's description to the specified string.</td> <!--'-->
    <td>No.</td>
    <td>0-1</td>
    <td>Exclusive with <kbd class="highlit-code nowrap"><span class="keyword">Description</span></kbd> and <kbd class="highlit-code nowrap"><span class="keyword">Network-Description</span></kbd>.</td></tr>
 <tr><td><kbd class="highlit-code nowrap"><span class="keyword">Network-Description</span></kbd></td>
    <td>URL to remote HTML file.</td>
    <td>Sets the book's description to the remote file's contents.</td>
    <td>No.</td>
    <td>0-1</td>
    <td>Exclusive with <kbd class="highlit-code nowrap"><span class="keyword">Description</span></kbd> and <kbd class="highlit-code nowrap"><span class="keyword">String-Description</span></kbd>.</td></tr>
</table>
<p id="getting-the-gist-naming-paths-paragraph">
All local paths are relative to the descriptor file.
This can be changed with the <a href="#features-include-dirs"><code>-I</code>nclude dirs</a> feature.
</p>
<div id="getting-the-gist-naming-local-paragraph">
<p></p>
The included local files' packed names are the paths by which they've been included with all instances of
 <kbd class="highlit-code nowrap"><span class="string">\</span></kbd> replaced with <kbd class="highlit-code nowrap"><span class="string">/</span></kbd>, of
 <kbd class="highlit-code nowrap"><span class="string">../</span></kbd> and <kbd class="highlit-code nowrap"><span class="string">./</span></kbd> removed, and of
 <kbd class="highlit-code nowrap"><span class="string">/</span></kbd> replaced with <kbd class="highlit-code nowrap"><span class="string">-</span></kbd>.
Examples:
<kbd><pre class="highlit-code numberise">
<span class="string">simple-content.html</span> ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​​<span class="punctuation"> =></span> <span class="string">simple-content_html</span>
<span class="string">../cover.jpg</span> ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​​<span class="punctuation"> =></span> <span class="string">cover.jpg</span>
<span class="string">.\../books/../covers/cover.jpg</span> ​​<span class="punctuation"> =></span> <span class="string">books-covers-cover.jpg</span>
</pre></kbd>
<p></p>
</div>
<p id="getting-the-gist-naming-remote-paragraph">
The included remote files' packed names are the last segment (i.e. the filename) of their URL. <!--'-->
</p>
<p id="getting-the-gist-additional-content-processing-paragraph">
In addition, all <kbd class="highlit-code nowrap"><span class="keyword">Content</span></kbd> files are checked for the
 <kbd class="highlit-code nowrap"><span class="comment"><​!​-​-</span> <span class="keyword">ePub title</span><span class="punctuation">:</span> <span class="string">"TOC_NAME"</span> <span class="comment">-​-></span></kbd>
 sequence, where <kbd class="highlit-code nowrap"><span class="string">TOC_NAME</span></kbd> is a sequence of any character except <kbd class="highlit-code nowrap"><span class="string">"<!--"--></span></kbd> which is
 the name to give the content in the Table of Contents.
</p>
<h2 id="features" class="smallcaps" ><a class="hash-link" href="#features">#</a> Features</h2>
<p id="features-paragraph">
Features are extensions to the <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> descriptor syntax, modifying the behaviour and validity of some <em>lines</em>.
</p>
<h3 id="features-custom-separator" class="smallcaps" ><a class="hash-link" href="#features-custom-separator">#</a> Custom separator</h3>
<div id="features-custom-separator-paragraph">
<p></p>
This feature allows a custom set of characters to be used as the <kbd class="highlit-code nowrap"><span class="punctuation">separator</span></kbd>. For example:
<kbd><pre class="highlit-code numberise">
<span class="keyword">Name</span><span class="punctuation">:</span> <span class="string">The Taste of MI</span>
<span class="comment"># With custom separator set to "=" becomes</span>
<span class="keyword">Name</span><span class="punctuation"> =</span> <span class="string">The Taste of MI</span>
<span class="comment"># Or, with custom separator set to "INCREDIBLE COMMUNISM" becomes</span>
<span class="keyword">Name</span> <span class="punctuation">INCREDIBLE COMMUNISM</span> <span class="string">The Taste of MI</span>
</pre></kbd>
<p></p>
</div>
<h3 id="features-free-date-format" class="smallcaps" ><a class="hash-link" href="#features-free-date-format">#</a> Free date format</h3>
<div id="features-free-date-format-paragraph">
<p></p>
This feature allows a <code class="nowrap" style="font-variant: normal;">gen-epub-book​</code> to accept non-<a href="//tools.ietf.org/html/rfc3339">RFC3339</a> date formats, whichever it can.
For example, with free date format feature on these can become equivalent:
<kbd><pre class="highlit-code numberise">
<span class="keyword">Date</span><span class="punctuation">:</span> <span class="string">2017-08-19T21:22:31+0200</span>
<span class="keyword">Date</span><span class="punctuation">:</span> <span class="string">Sat, 19 Aug 2017 21:22:31 +02:00</span>
<span class="keyword">Date</span><span class="punctuation">:</span> <span class="string">1503177751</span>
</pre></kbd>
<p></p>
</div>
<h3 id="features-include-dirs" class="smallcaps" ><a class="hash-link" href="#features-include-dirs">#</a> <code>-I</code>nclude dirs</h3>
<p id="features-include-dirs-paragraph">
This feature allows for specifying more root directories for finding local files.
</p>
<p id="features-include-dirs-variants-paragraph">
An include directory can be <em>named</em> or <em>unnamed</em>, which affects their packed name:
 <em>unnamed</em> directories act transparently – their packed name is exactly as specified and transformed, while
 <em>named</em> directories put their files in a dedicated subdirectory named themafter, then their specified path transformed.
</p>
<div id="features-include-dirs-examples-paragraph">
<p></p>
For example, given the following directory tree:
<kbd><pre class="highlit-code numberise">
<span class="string">special_book</span>
<span class="punctuation">├──</span> <span class="string">rendered</span>
<span class="punctuation">│ ​ ​ ​└──</span> <span class="string">output</span>
<span class="punctuation">│ ​ ​ ​ ​ ​ ​ ​├──</span> <span class="string">intro.html</span>
<span class="punctuation">│ ​ ​ ​ ​ ​ ​ ​├──</span> <span class="string">main.html</span>
<span class="punctuation">│ ​ ​ ​ ​ ​ ​ ​└──</span> <span class="string">ending.html</span>
<span class="punctuation">├──</span> <span class="string">previews</span>
<span class="punctuation">│ ​ ​ ​└──</span> <span class="string">generated</span>
<span class="punctuation">│ ​ ​ ​ ​ ​ ​ ​└──</span> <span class="string">out</span>
<span class="punctuation">│ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ ├──</span> <span class="string">intro.html</span>
<span class="punctuation">│ ​ ​ ​ ​ ​ ​ ​ ​ ​ ​ └──</span> <span class="string">main.html</span>
<span class="punctuation">└──</span> <span class="string">geb</span>
<span class="punctuation">​ ​ ​ ​└──</span> <span class="string">special</span>
<span class="punctuation">​ ​ ​ ​ ​ ​ ​ ​├──</span> <span class="string">intro.html</span>
<span class="punctuation">​ ​ ​ ​ ​ ​ ​ ​└──</span> <span class="string">book.epupp</span>
</pre></kbd>
If <code>geb/special/book.epupp</code>
<ul>
 <li>specifying <code>intro.html</code>, <code>main.html</code> and <code>ending.html</code> is built with</li>
 <li><em>named</em> include dir "previews" pointing at <code>../../previews/generated/out</code>, then an</li>
 <li><em>unnamed</em> include dir pointing at <code>../../rendered/output</code>,</li>
</ul>
the content inside would be laid out as follows:
<kbd><pre class="highlit-code numberise">
<span class="string">book.epub</span>
<span class="punctuation">├──</span> <span class="string">intro.html</span> ​ ​ ​ ​ ​​<span class="comment"># From geb/special/</span>
<span class="punctuation">├──</span> <span class="string">previews</span>
<span class="punctuation">│ ​ ​ ​└──</span> <span class="string">main.html</span> ​ ​​<span class="comment"># From previews/generated/out/</span>
<span class="punctuation">└──</span> <span class="string">ending.html</span> ​ ​ ​ ​​<span class="comment"># From rendered/output/</span>
</pre></kbd>
<p></p>
</div>
<h3 id="features-support" class="smallcaps" ><a class="hash-link" href="#features-support">#</a> Support table</h3>
<table id="features-support-table">
 <tr><th></th>
     <th><center><a href="https://github.com/nabijaczleweli/gen-epub-book" class="icon"><span style="font-weight: normal;" class="icon nowrap" > 
 <strong>A</strong><!-- 
 --><span class="overlay-container"> 
 <sup class="overlay-target smallcaps" style="top: calc(-1em / 4); left: calc(-1em/6);">w</sup> 
 <sub class="smallcaps" style="margin-left: calc(1em / 16);">k</sub> 
 </span> 
 </span></a></center></th>
     <th><center><a href="https://github.com/nabijaczleweli/gen-epub-book.rs" ><i class="icon-rust" ></i></a></center></th>
     <th><center><a href="https://github.com/nabijaczleweli/gen-epub-book.cpp" class="icon"><i class="devicon-cplusplus-plain" ></i></a></center></th>
     <th><center><a href="https://github.com/nabijaczleweli/gen-epub-book.scala" ><i class="icon-scala" ></i></a></center></th></th>
     <th><center><a href="https://github.com/nabijaczleweli/gen-epub-book.js" class="icon"><i class="devicon-javascript-plain" ></i></a></center></th></tr>
 <tr><td>Custom separator</td>
     <td>No.</td>
     <td><a href="https://github.com/nabijaczleweli/gen-epub-book.rs/releases/tag/v2.0.0"><code>v2.0.0</code></a></td>
     <td>No.</td>
     <td><a href="https://github.com/nabijaczleweli/gen-epub-book.scala/releases/tag/v1.1.0"><code>v1.1.0</code></a></td>
     <td><a href="https://github.com/nabijaczleweli/gen-epub-book.js/releases/tag/v0.2.0"><code>v0.2.0</code></a></td></tr>
 <tr><td>Free date format</td>
     <td>No.</td>
     <td><a href="https://github.com/nabijaczleweli/gen-epub-book.rs/releases/tag/v2.1.0"><code>v2.1.0</code></a></td>
     <td><a href="https://github.com/nabijaczleweli/gen-epub-book.cpp/releases/tag/v2.0.0"><code>v2.0.0</code></a></td>
     <td>No.</td>
     <td><a href="https://github.com/nabijaczleweli/gen-epub-book.js/releases/tag/v0.2.0"><code>v0.2.0</code></a></td></tr>
 <tr><td><code>-I</code>nclude dirs</td>
     <td>No.</td>
     <td><a href="https://github.com/nabijaczleweli/gen-epub-book.rs/releases/tag/v2.0.0"><code>v2.0.0</code></a></td>
     <td><a href="https://github.com/nabijaczleweli/gen-epub-book.cpp/releases/tag/v2.0.0"><code>v2.0.0</code></a></td>
     <td><a href="https://github.com/nabijaczleweli/gen-epub-book.scala/releases/tag/v1.1.0"><code>v1.1.0</code></a></td>
     <td>No.</td></tr>
</table>
<h2 id="license" class="smallcaps" ><a class="hash-link" href="#license">#</a> License</h2>
<pre id="license-paragraph">
The MIT License (MIT)
​
Copyright (c) 2017 nabijaczleweli
​
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
​
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
​
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
</pre>
<h2 id="afterword" class="smallcaps" ><a class="hash-link" href="#afterword">#</a> Afterword</h2>
<p id="afterword-paragraph">
Thank you for making it this far.
I hope that this document is clear and/or informative, if not,
 why don'<!--'-->t you pop into the <a href="//github.com/nabijaczleweli/nabijaczleweli.github.io/issues" class="icon">issues <i class="devicon-html5-plain" ></i></a> and
 help yourself, others and me?
</p>
</div>
<!-- CTNT_END --> <hr style="padding-top: 1em;" /> 
 Creative text licensed under <a href="/content/LICENSE-CREATIVE">CC-BY-SA 4.0</a>, 
 code licensed under <a href="/content/LICENSE-CODE">The MIT License</a>. 
 <hr /> 
 This page is open-source, you can find it at <a href="//github.com/nabijaczleweli/nabijaczleweli.github.io/tree/dev">GitHub</a>, 
 and contribute and/or yell at me there. 
 <hr /> 
 Like what you see? Consider giving me a follow over at social medias listed <a href="/">here</a>, or maybe even a sending a <a href="//paypal.me/nabijaczleweli">buck</a> or <a href="//patreon.com/nabijaczleweli">two<span class="search-only"> patreon</span></a> my way if my software helped you in some significant way? 
 <hr /> 
 Automatically generated with Clang 14'<!--'-->s C preprocessor on 22.05.2023 15:51:18 UTC from 
 <a href="https://github.com/nabijaczleweli/nabijaczleweli.github.io/blob/dev/src/gen-epub-book/programmer.html.pp">src/gen-epub-book/programmer.html.pp</a>. 
 <br /><a href="https://builds.sr.ht/~nabijaczleweli/job/993993">See job on builds.sr.ht</a>. 
 <hr /> 
 <a href="/content/feed.xml">RSS feed</a> 
 </body> 
 </html>
